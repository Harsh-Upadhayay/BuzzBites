(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{7166:function(e,t,n){Promise.resolve().then(n.bind(n,1597))},1597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(7437),a=n(2265),r=n(2527),s=n(8721);function c(){let[e,t]=(0,a.useState)([]),[n,c]=(0,a.useState)(1),[l,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!0);(0,a.useRef)(),(0,a.useEffect)(()=>{(async()=>{if(d&&!l){o(!0);try{let e=await fetch("/api/news/?page=".concat(n)),i=await e.json();"Invalid page."===i.detail?u(!1):t(e=>[...e,...i.results])}catch(e){console.error("Error fetching data:",e)}o(!1)}})()},[n]),(0,a.useEffect)(()=>{let e=()=>{Math.ceil(window.innerHeight+window.scrollY)>=document.documentElement.scrollHeight&&!l&&c(e=>e+1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[l]);let h=e=>"CB"===e?"Cricbuzz":"HT"===e?"Hindustan Times":"Unknown";return(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)(r.d,{variant:"splitted",className:"",children:e.map((e,t)=>(0,i.jsx)(s.G,{"aria-label":"Accordion ".concat(t+1),title:e.title,subtitle:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:"Published : ".concat(new Date(e.published_at).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),"<br>Source : ").concat(h(e.source))}}),children:(0,i.jsx)("p",{className:"font-normal text-gray-900 dark:text-gray-400",children:e.description})},e.id))}),l&&(0,i.jsx)("p",{children:"Loading..."}),!l&&!d&&(0,i.jsx)("p",{children:"End of News List"})]})}}},function(e){e.O(0,[212,965,805,971,69,744],function(){return e(e.s=7166)}),_N_E=e.O()}]);